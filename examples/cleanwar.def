BootStrap: debootstrap
OSVersion: xenial
MirrorURL: http://us.archive.ubuntu.com/ubuntu/


%runscript
    echo "This is what happens when you run the container..."
    winetricks -q vcrun2013
    winetricks -q vcrun2015
    winetricks -q nocrashdialog
    rm -rf ~/.wine/drive_c/StarCraft
    unzip -o /data/starcraft.zip -d ~/.wine/drive_c/
    rm -rf ~/dotbot
    git clone https://github.com/nonsensews/dotbot ~/dotbot
    cd ~/dotbot
    make install


%post
    echo "Setting up the container, please wait!"
    sed -i 's/$/ universe/' /etc/apt/sources.list
    apt-get -y install aptitude wget curl git zip unzip
    dpkg --add-architecture i386
    apt-get update
    aptitude install -y software-properties-common
    aptitude install -y apt-transport-https
    aptitude install -y tightvncserver
    aptitude install -y make lxde-core
    wget https://dl.winehq.org/wine-builds/Release.key
    apt-key add Release.key
    apt-add-repository 'deb https://dl.winehq.org/wine-builds/ubuntu/ xenial main'
    apt-get update
    aptitude install -y winehq-staging
    wget https://raw.githubusercontent.com/Winetricks/winetricks/master/src/winetricks
    mv winetricks /usr/local/bin/
    wget https://underworld.ws/starcraft.zip
    mkdir /data
    mv starcraft.zip /data/
    rm /tmp/early_wine*